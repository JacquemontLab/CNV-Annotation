//defining static resource file paths which are consistent across all runs
params {
    vep_cache  = "/lustre06/project/6008022/All_user_common_folder/SOFTWARE/VEP/cache"
    genome_regions = "/lustre06/project/6008022/clarkb/CNV-DB-Builder/resources/Genome_Regions/Genome_Regions_data.tsv"
}

// vep_annotate configurations 
process {
    executor = 'slurm'
     withLabel: vep {
        cpus = 16
        module = ['apptainer/1.3.5', 'htslib/1.19']
        container = '/lustre06/project/6008022/All_user_common_folder/SOFTWARE/VEP/vep.sif'
        clusterOptions = '--mem-per-cpu 3500MB --account=rrg-jacquese'
        time = '1h'
        }

     withLabel: quick {
        executor = 'local'
     }
     withLabel : polars {
        beforeScript =      '''
                            module load python/3.13.2
                            virtualenv --no-download $SLURM_TMPDIR/env
                            source $SLURM_TMPDIR/env/bin/activate
                            pip install --no-index --upgrade pip
                            pip install --no-index polars
                           '''
     }

     withName: buildDB {
        cpus = 16
        memory = 4.GB
        time = '1h'
        }
    

    withName: buildCnvDB {
        module = "bedtools/2.31.0"
    }
}
